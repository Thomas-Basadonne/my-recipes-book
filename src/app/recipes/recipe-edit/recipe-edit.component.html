<div class="container">
  <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
    <!-- Nome -->
    <div class="form-group my-3 text-start">
      <label for="name" class="badge text-bg-danger mb-1">Nome</label>
      <input
        type="text"
        id="name"
        class="form-control"
        formControlName="name"
      />
    </div>

    <div class="d-flex align-items-start my-3">
      <div class="img w-50">
        <!-- URL Immagine -->
        <div class="form-group w-100 text-start">
          <label for="imagePath" class="badge text-bg-danger mb-1"
            >URL Immagine</label
          >
          <input
            type="text"
            id="imagePath"
            class="form-control"
            formControlName="imagePath"
            #imagePath
          />
        </div>

        <!-- Anteprima Immagine -->
        <div class="w-100" role="group">
          <img
            [src]="imagePath.value"
            class="img-thumbnail"
            alt="Anteprima Immagine"
          />
        </div>
      </div>
      <!-- Lista Ingredienti -->
      <div class="form-group my-3 w-50" formArrayName="ingredients">
        <button
          type="button"
          class="btn btn-success"
          (click)="onAddIngredients()"
        >
          Aggiungi ingrediente
        </button>
        <ol class="list-group list-group-numbered w-100 mx-auto my-2">
          <li
            *ngFor="let ingredientCtrl of controls; let i = index"
            [formGroupName]="i"
            class="list-group-item d-flex justify-content-between align-items-start"
          >
            <div class="ms-2 me-auto">
              <!-- Nome Ingrediente -->
              <input
                type="text"
                class="form-control"
                placeholder="Nome ingrediente"
                formControlName="name"
              />
              <!-- Quantità Ingrediente -->
              <input
                type="number"
                class="form-control"
                placeholder="Quantità ingrediente"
                formControlName="quantity"
              />
            </div>
            <!-- Bottone Elimina -->
            <button
              type="button"
              class="badge text-bg-danger rounded-pill border border-0"
              (click)="onDeleteIngredient(i)"
            >
              Elimina
            </button>
          </li>
        </ol>
      </div>
    </div>

    <!-- Descrizione -->
    <div class="form-group my-3 text-start">
      <label for="description" class="badge text-bg-danger mb-1"
        >Descrizione</label
      >
      <textarea
        id="description"
        rows="6"
        class="form-control"
        formControlName="description"
      ></textarea>
    </div>

    <!-- bottoni -->
    <div class="btn-group" role="group">
      <button
        type="submit"
        class="btn btn-outline-success"
        [disabled]="!recipeForm.valid"
      >
        Salva
      </button>
      <button type="button" class="btn btn-outline-danger" (click)="onCancel()">
        Elimina
      </button>
    </div>
  </form>
</div>
